<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ドライバー用TOPページ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="CSS/layout-driver.css">
    <link rel="stylesheet" href="CSS/index-driver.css">
</head>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
  import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyC7AK6I_KmkFEZIaWJokO5HN1UnejpHZ3U",
    authDomain: "the-bus-94fe3.firebaseapp.com",
    projectId: "the-bus-94fe3",
    storageBucket: "the-bus-94fe3.appspot.com",
    messagingSenderId: "782387450057",
    appId: "1:782387450057:web:d6d4dcf0fd778ff6533d18"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  onAuthStateChanged(auth, (user) => {
    const userEmailElement = document.getElementById("userEmail");
    if (user) {
      userEmailElement.textContent = `${user.email}`;
    } else {
      window.location.href = "../syorui/login.html";
    }
  });

  document.getElementById("logoutBtn").addEventListener("click", async () => {
    try {
      await signOut(auth);
      window.location.href = "../syorui/login.html";
    } catch (error) {
      console.error("ログアウト失敗:", error);
      alert("ログアウトに失敗しました。");
    }
  });
</script>
<style>
  .user-info {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  #userEmail {
    font-size: 0.9rem;
  }

  .logout-btn {
    background-color: #00796b;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 8px 16px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: background 0.3s;
  }

  .logout-btn:hover {
    background-color: #005f55;
  }
</style>

<body>
    <!-- ヘッダー -->
    <header>
        <div class="navbar">
            <div class="logo" >運行管理システム:ドライバーメニュー</div>
            <div class="user-info">
              <span id="userEmail">ログイン中: 読み込み中...</span>
              <button id="logoutBtn" class="logout-btn">ログアウト</button>
            </div>
            <div class="hamburger" id="hamburger">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- メイン -->
    <main>
        <div class="dashboard">
            <a href="#" class="card work-card">
                <i class="fas fa-clipboard-list icon"></i>
                <h2>ドライバー勤務情報</h2>
                <p>自身の勤務情報を閲覧することが出来ます。</p>
            </a>
            <a href="employee menu/driver/driver.html" class="card location-card">
                <i class="fas fa-map-marker-alt icon"></i>
                <h2>バス現在地共有</h2>
                <p>バス走行位置を共有します。</p>
            </a>
            <a href="driver menu/document-writing/document-writing.html" class="card create-doc-card">
                <i class="fas fa-pen-square icon"></i>
                <h2>書類作成</h2>
                <p>各種書類の作成ができます。</p>
            </a>
            <a href="driver menu/document-view/document-view.html" class="card view-doc-card">
                <i class="fas fa-folder-open icon"></i>
                <h2>書類閲覧</h2>
                <p>提出した書類の閲覧ができます。</p>
                
            </a>
        </div>
    </main>

    <!-- フッター -->
    <footer>
       <p>© 2025 プロジェクト演習D,E：A08 | All Rights Reserved</p>
    </footer>

    <script>
        // ハンバーガーメニュー
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
    </script>
</body>

</html>












